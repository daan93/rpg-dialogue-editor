<div id="canvas-wrapper" [class.dragging]="dragging">
  <div #canvas>
    <svg viewBox="-1 -1 102 52" width="102px" height="52px" *ngIf="addNewConnection">
      <path [attr.d]="getNewResponsePath()" stroke="#3F51B5" stroke-width="3" fill="none" />
    </svg>

    <svg viewBox="-1 -1 102 52" width="102px" height="52px">
      <path [attr.d]="getResponsePath('start', { uid: 'start', followUp: start })" stroke="#3F51B5" stroke-width="3" fill="none" />
    </svg>

    <app-dialogue-node [zoomScale]="panzoomTransform.scale" [item]="{ uid: 'start', editor: editorData.startPos }"
      (dragStart)="pausePanzoom()" (dragEnd)="nodeDragEnd($event)" (socketDown)="onSocketDown($event)"
      (socketUp)="onSocketUp($event)">
    </app-dialogue-node>

    <ng-container *ngFor="let item of dialogue.controls; let i = index;">

      <svg viewBox="-1 -1 102 52" width="102px" height="52px"
        *ngFor="let response of getConnections(getDialogUID(item))">
        <path [attr.d]="getResponsePath(getDialogUID(item), response)" stroke="#3F51B5" stroke-width="3" fill="none" />
      </svg>

      <app-dialogue-node [zoomScale]="panzoomTransform.scale" [item]="getDialogueItemById(getDialogUID(item))"
        (dragStart)="pausePanzoom()" (dragEnd)="nodeDragEnd($event)" (socketDown)="onSocketDown($event)"
        (socketUp)="onSocketUp($event)">
      </app-dialogue-node>
    </ng-container>
  </div>
</div>